# AWS S3 (Simple Storage Service)

Amazon S3 is an **object storage service** that offers **scalability, durability, and security** for storing and retrieving any amount of data from anywhere on the web.

---

## Key Features
- **Object-based storage** (stores data as objects with key, value, and metadata).
- **Unlimited storage capacity**.
- **11 9’s durability (99.999999999%)**.
- Supports **versioning**, **lifecycle policies**, and **replication**.
- **Access control** via IAM policies, bucket policies, ACLs.
- Integrated with **AWS services** (CloudFront, Athena, EMR, Redshift, etc.).

---

## S3 Concepts
- **Bucket** → A container for objects. Unique name globally.
- **Object** → Data stored in S3, consists of:
  - Key (object name)
  - Value (data)
  - Metadata (info about object)
  - Version ID (if versioning enabled)
- **Region** → Buckets are created in a specific region.
- **Prefix** → Logical hierarchy for objects (like folder structure).
- **Storage Class** → Defines availability, durability, and cost.

---

## S3 Storage Classes
| Storage Class | Use Case | Durability | Availability | Cost |
|---------------|----------|------------|--------------|------|
| **S3 Standard** | Frequently accessed data | 99.999999999% | 99.99% | High |
| **S3 Intelligent-Tiering** | Unknown/variable access patterns | 99.999999999% | 99.9% | Auto cost-optimized |
| **S3 Standard-IA (Infrequent Access)** | Infrequently accessed but needs fast retrieval | 99.999999999% | 99.9% | Lower cost |
| **S3 One Zone-IA** | Infrequent access, non-critical data (single AZ) | 99.999999999% | 99.5% | Cheaper |
| **S3 Glacier** | Archival storage, retrieval minutes–hours | 99.999999999% | Varies | Very low |
| **S3 Glacier Deep Archive** | Long-term archive (retrieval hours) | 99.999999999% | Varies | Lowest |

---

## Security in S3
- **Encryption**
  - Server-side (SSE-S3, SSE-KMS, SSE-C)
  - Client-side
- **Access Control**
  - IAM policies
  - Bucket policies
  - Access Control Lists (ACLs)
- **Block Public Access** (recommended by default)
- **S3 Access Points** for controlled access to shared datasets.
---


```
          [ Internet / Users ]
                   |
          +--------------------+
          |  IAM Policies /    |
          |  Bucket Policies   |
          +---------+----------+
                    |
             [  S3 Bucket  ]
         +----------------------+
         | Objects (files, data)|
         | Storage Classes:     |
         |  - Standard          |
         |  - IA / One Zone-IA  |
         |  - Glacier / Deep    |
         +----------+-----------+
                    |
        ------------------------------
        |            |              |
   [ Lifecycle ] [ Replication ] [ Events ]
   (Transition   (CRR/SRR to     (Triggers
    to IA/Glacier) other buckets) Lambda/SNS/SQS)
                    |
             [ Data Retrieval ]
        +---------------------------+
        |  - Console / CLI / SDK    |
        |  - Pre-Signed URLs        |
        |  - CloudFront CDN         |
        +---------------------------+
```

---

## Data Management
- **Versioning** → Keeps multiple versions of an object.
- **Lifecycle Policies** → Automates transition between storage classes and expiration.
- **Cross-Region Replication (CRR)** → Replicates objects across AWS regions.
- **Event Notifications** → Trigger actions (via SNS, SQS, Lambda) when objects are created/modified/deleted.

---

## S3 Performance
- **High request rate** (3,500 PUT/COPY/POST/DELETE and 5,500 GET/HEAD requests per second per prefix).
- **Multipart Upload** for large objects (>100MB recommended).
- **Transfer Acceleration** → Uses CloudFront edge locations for faster uploads/downloads globally.

---

## Common Use Cases
- Static website hosting
- Data backup & restore
- Big data analytics
- Media hosting & content distribution
- Archiving & compliance storage

---

## Example Commands

### Create a bucket
```sh
aws s3 mb s3://my-bucket-name
````

### Upload a file

```sh
aws s3 cp file.txt s3://my-bucket-name/
```

### Sync local directory with bucket

```sh
aws s3 sync ./local-folder s3://my-bucket-name
```

### Enable bucket versioning

```sh
aws s3api put-bucket-versioning --bucket my-bucket-name --versioning-configuration Status=Enabled
```

---

## Pro Tips

* Always **block public access** unless explicitly needed.
* Use **S3 Lifecycle Policies** to reduce costs.
* Prefer **S3 Intelligent-Tiering** for unknown access patterns.
* Combine with **CloudFront** for low-latency global delivery.
* Use **S3 Select** to query only required data from objects (CSV/JSON/Parquet).
